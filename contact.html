<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact | Sunil Kumar</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        :root { --dark-bg: #101010; --medium-bg: #181818; --light-bg: #282828; --gold: #D4AF37; --text-primary: #F5F5F5; --text-secondary: #A0A0A0; --font-sans: 'Manrope', sans-serif; --font-mono: 'JetBrains Mono', monospace; --fz-xl: 56px; --fz-md: 20px; --fz-sm: 16px; --fz-xs: 14px; --success: #4CAF50; --error: #F44336; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background-color: var(--dark-bg); background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23181818' fill-opacity='0.4' fill-rule='evenodd'%3E%3Cpath d='M0 40L40 0H20L0 20M40 40V20L20 40'/%3E%3C/g%3E%3C/svg%3E"); color: var(--text-secondary); font-family: var(--font-sans); display: flex; flex-direction: column; min-height: 100vh; font-size: var(--fz-sm); line-height: 1.7; }
        body.light-mode { --dark-bg: #F5F5F5; --medium-bg: #FFFFFF; --light-bg: #E9E9E9; --gold: #B8860B; --text-primary: #121212; --text-secondary: #555555; background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23e0e0e0' fill-opacity='0.6' fill-rule='evenodd'%3E%3Cpath d='M0 40L40 0H20L0 20M40 40V20L20 40'/%3E%3C/g%3E%3C/svg%3E"); }
        main { padding: 0 50px; flex-grow: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        a { text-decoration: none; color: var(--gold); }
        .button { display: inline-block; width: 100%; padding: 1rem 1.75rem; border: 1px solid var(--gold); border-radius: 4px; color: var(--gold); font-family: var(--font-mono); font-size: var(--fz-xs); background: transparent; position: relative; overflow: hidden; z-index: 1; transition: color 0.4s ease-in-out; cursor: pointer; }
        .button::before { content: ''; position: absolute; z-index: -1; background: var(--gold); height: 150px; width: 100%; max-width: 700px; border-radius: 50%; top: 100%; left: 50%; transform: translateX(-50%); transition: all 0.7s; }
        .button:hover { color: #101010; }
        .button:hover::before { top: -80px; }
        header { display: flex; justify-content: space-between; align-items: center; padding: 0 50px; height: 100px; position: fixed; width: 100%; top: 0; z-index: 20; background-color: rgba(18, 18, 18, 0.5); backdrop-filter: blur(10px); }
        body.light-mode header { background-color: rgba(245, 245, 245, 0.7); }
        .logo { font-family: var(--font-mono); color: var(--gold); font-size: 28px; z-index: 21; }
        body:not(.light-mode) .logo { text-shadow: 0 0 10px rgba(212, 175, 55, 0.2); }
        .logo span { color: var(--text-primary); }
        .desktop-nav { display: flex; align-items: center; }
        .desktop-nav ol { display: flex; align-items: center; list-style: none; }
        .desktop-nav ol li { margin: 0 20px; font-family: var(--font-mono); font-size: var(--fz-xs); }
        .desktop-nav ol li a { color: var(--text-primary); transition: color 0.3s; font-weight: 500; }
        .desktop-nav ol li a:hover, .desktop-nav ol li a.active { color: var(--gold); }
        .theme-switch-wrapper { display: flex; align-items: center; margin-left: 20px; }
        .theme-switch { position: relative; display: inline-block; width: 44px; height: 24px; margin: 0 10px; }
        .theme-switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: var(--light-bg); transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 4px; bottom: 4px; background-color: var(--text-primary); transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--gold); }
        input:checked + .slider:before { transform: translateX(20px); }
        .hamburger-menu, .mobile-nav { display: none; }
        .contact-section { padding-top: 150px; width: 100%; max-width: 700px; padding-bottom: 100px;}
        .contact-content { text-align: center; margin-bottom: 40px; }
        .contact-content .label { font-family: var(--font-mono); font-size: var(--fz-md); color: var(--gold); }
        .contact-content .title { font-size: clamp(40px, 5vw, var(--fz-xl)); color: var(--text-primary); }
        body:not(.light-mode) .contact-content .title { text-shadow: 0 0 8px rgba(224, 224, 224, 0.2); }
        .contact-form .form-group { margin-bottom: 20px; }
        .contact-form input, .contact-form textarea { width: 100%; padding: 15px; background-color: var(--medium-bg); border: 1px solid var(--light-bg); color: var(--text-primary); border-radius: 4px; font-family: var(--font-sans); font-size: var(--fz-sm); transition: border-color 0.3s; }
        .contact-form input:focus, .contact-form textarea:focus { outline: none; border-color: var(--gold); }
        .contact-form textarea { resize: vertical; min-height: 120px; }
        #form-status { text-align: center; margin-top: 20px; font-weight: 500; opacity: 0; transition: opacity 0.3s; height: 24px;}
        #form-status.success { color: var(--success); }
        #form-status.error { color: var(--error); }
        footer { text-align: center; padding: 40px 20px; font-family: var(--font-mono); font-size: var(--fz-xs); color: var(--text-secondary); }
        .social-links { display: flex; justify-content: center; gap: 25px; margin-bottom: 15px; }
        .social-links a { display: inline-block; padding: 10px; font-size: 22px; color: var(--text-secondary); transition: all 0.3s ease; }
        .social-links a:hover { color: var(--gold); transform: translateY(-3px); }
        @media (max-width: 768px) {
            main { padding: 0 25px; }
            .desktop-nav { display: none; }
            .hamburger-menu { display: flex; flex-direction: column; justify-content: space-between; width: 30px; height: 21px; background: transparent; border: none; cursor: pointer; padding: 0; z-index: 21; }
            .hamburger-menu span { width: 30px; height: 3px; background: var(--text-primary); border-radius: 10px; }
            .mobile-nav { display: flex; flex-direction: column; justify-content: center; background: var(--medium-bg); height: 100vh; text-align: center; padding: 2rem; position: fixed; top: 0; right: 0; transition: transform 0.3s ease-in-out; transform: translateX(100%); width: min(75vw, 400px); z-index: 19; }
            .mobile-nav.open { transform: translateX(0); }
            .mobile-nav ol { list-style: none; } .mobile-nav ol li { margin-bottom: 2rem; } .mobile-nav ol li a { font-size: var(--fz-md); color: var(--text-primary); font-weight: 700; }
            .mobile-nav .theme-switch-wrapper { justify-content: center; margin-top: 2rem; }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo"><a href="index.html" style="color: var(--gold);">CodeWith<span>Mee</span></a></div>
        <nav class="desktop-nav">
            <ol>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="courses.html">Courses</a></li>
                <li><a href="projects.html">Projects</a></li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="quiz.html">Quiz</a></li>
                <li><a href="contact.html" class="active">Contact</a></li>
            </ol>
            <div class="theme-switch-wrapper"><i class="fas fa-sun"></i><label class="theme-switch"><input type="checkbox" id="theme-toggle"><span class="slider round"></span></label><i class="fas fa-moon"></i></div>
        </nav>
        <button class="hamburger-menu"><span /><span /><span /></button>
    </header>
    <nav class="mobile-nav">
        <ol>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="courses.html">Courses</a></li>
            <li><a href="projects.html">Projects</a></li>
            <li><a href="gallery.html">Gallery</a></li>
            <li><a href="quiz.html">Quiz</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ol>
        <div class="theme-switch-wrapper"><i class="fas fa-sun"></i><label class="theme-switch"><input type="checkbox" id="mobile-theme-toggle"><span class="slider round"></span></label><i class="fas fa-moon"></i></div>
    </nav>
    <main>
        <section class="contact-section">
            <div class="contact-content">
                <h2 class="label">Whatâ€™s Next?</h2>
                <h3 class="title">Get In Touch</h3>
                <p>My inbox is always open. Whether you have a question, a project proposal, or just want to connect, feel free to reach out using the form below.</p>
            </div>
            
            <form id="contact-form" class="contact-form">
                <div class="form-group"><input type="text" name="name" id="name" placeholder="Your Full Name" required></div>
                <div class="form-group"><input type="email" name="email" id="email" placeholder="Your Valid Email" required></div>
                <div class="form-group"><input type="tel" name="phone" id="phone" placeholder="Your Phone Number (Optional)"></div>
                <div class="form-group"><textarea name="message" id="message" placeholder="Write your message here..." required></textarea></div>
                <button type="submit" class="button">Send Message</button>
            </form>
            <p id="form-status"></p>
        </section>
    </main>
    <footer>
        <div class="social-links" id="social-links-container">
            <a id="github-link" target="_blank" aria-label="GitHub"><i class="fab fa-github"></i></a>
            <a id="instagram-link" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a id="x-link" target="_blank" aria-label="X"><i class="fab fa-x-twitter"></i></a>
            <a id="facebook-link" target="_blank" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
            <a id="email-link" aria-label="Email"><i class="fas fa-envelope"></i></a>
            <a id="youtube-link" target="_blank" aria-label="YouTube" class="hidden"><i class="fab fa-youtube"></i></a>
        </div>
        <p>Designed & Built with Precision by Sunil Kumar</p>
    </footer>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getFirestore, collection, addDoc, serverTimestamp, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyDbns1MdFW4nn8Sf0ROKnxidhIDSVYFUBc",
            authDomain: "codewithmee-7cb9d.firebaseapp.com",
            projectId: "codewithmee-7cb9d",
            storageBucket: "codewithmee-7cb9d.appspot.com",
            messagingSenderId: "19515490554",
            appId: "1:19515490554:web:57bb1609cad1d61524c943",
            measurementId: "G-3YJ8K05RPH"
        };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        const themeToggles = [document.getElementById('theme-toggle'), document.getElementById('mobile-theme-toggle')];
        const body = document.body;
        function applyTheme(theme) { body.classList.toggle('light-mode', theme === 'light'); themeToggles.forEach(toggle => {if(toggle) toggle.checked = (theme === 'light')}); }
        const savedTheme = localStorage.getItem('theme') || 'dark';
        applyTheme(savedTheme);
        themeToggles.forEach(toggle => { if(toggle) toggle.addEventListener('change', () => { const newTheme = toggle.checked ? 'light' : 'dark'; localStorage.setItem('theme', newTheme); applyTheme(newTheme); }); });
        
        const hamburger = document.querySelector('.hamburger-menu');
        const mobileNav = document.querySelector('.mobile-nav');
        hamburger.addEventListener('click', () => { mobileNav.classList.toggle('open'); });

        const form = document.getElementById("contact-form");
        async function handleSubmit(event) {
            event.preventDefault();
            var status = document.getElementById("form-status");
            const formData = new FormData(event.target);
            const dataToSave = {
                name: formData.get('name'),
                email: formData.get('email'),
                phone: formData.get('phone'),
                message: formData.get('message'),
                sentAt: serverTimestamp()
            };

            try {
                await addDoc(collection(db, "contactSubmissions"), dataToSave);
                const formspreeResponse = await fetch("https://formspree.io/f/mnndkgln", {
                    method: 'POST', body: formData, headers: { 'Accept': 'application/json' }
                });

                if (formspreeResponse.ok) {
                    status.innerHTML = "Thanks! Your message has been sent."; status.className = 'success'; form.reset();
                } else {
                    status.innerHTML = "Oops! There was a problem submitting your form."; status.className = 'error';
                }
            } catch (error) {
                console.error("Error submitting form:", error);
                status.innerHTML = "Oops! There was a problem submitting your form."; status.className = 'error';
            }
            status.style.opacity = 1;
        }
        form.addEventListener("submit", handleSubmit);

        async function loadSocialLinks() {
            const linksDocRef = doc(db, "siteContent", "socialLinks");
            const linksSnap = await getDoc(linksDocRef);
            if (linksSnap.exists()) {
                const links = linksSnap.data();
                document.getElementById('github-link').href = links.github || '#';
                document.getElementById('instagram-link').href = links.instagram || '#';
                document.getElementById('x-link').href = links.x || '#';
                document.getElementById('facebook-link').href = links.facebook || '#';
                document.getElementById('email-link').href = `mailto:${links.email || ''}`;
                const ytLink = document.getElementById('youtube-link');
                if(links.youtube) {
                    ytLink.href = links.youtube;
                    ytLink.classList.remove('hidden');
                } else {
                    ytLink.classList.add('hidden');
                }
            }
        }
        loadSocialLinks();
    </script>
</body>
</html>
